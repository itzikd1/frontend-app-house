<form [formGroup]="form" (ngSubmit)="submit()" class="register-form">
  <h2>{{ 'register.title' | translate }}</h2>

  <div class="form-group">
    <label for="name">{{ 'register.name' | translate }}</label>
    <input id="name" type="text" formControlName="name" />
    <div class="error" *ngIf="form.get('name')?.invalid && (form.get('name')?.dirty || form.get('name')?.touched)">
      {{ 'register.name_error' | translate }}
    </div>
  </div>

  <div class="form-group">
    <label for="email">{{ 'register.email' | translate }}</label>
    <input id="email" type="email" formControlName="email" />
    <div class="error" *ngIf="form.get('email')?.invalid && (form.get('email')?.dirty || form.get('email')?.touched)">
      {{ 'register.email_error' | translate }}
    </div>
  </div>

  <div class="form-group">
    <label for="password">{{ 'register.password' | translate }}</label>
    <input id="password" type="password" formControlName="password" />
    <div class="error" *ngIf="form.get('password')?.invalid && (form.get('password')?.dirty || form.get('password')?.touched)">
      {{ 'register.password_error' | translate }}
    </div>
  </div>

  <button type="submit" [disabled]="form.invalid || loading">
    {{ loading ? ('register.loading' | translate) : ('register.submit' | translate) }}
  </button>

  <app-error-message *ngIf="error" [message]="error"></app-error-message>
  <app-success-message *ngIf="success" [message]="'register.success' | translate"></app-success-message>
</form>
