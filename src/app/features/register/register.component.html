<form [formGroup]="form" (ngSubmit)="submit()" class="register-form">
  <h2>{{ 'register.title' | translate }}</h2>

  <div class="form-group">
    <label for="name">{{ 'register.name' | translate }}</label>
    <input id="name" formControlName="name" type="text" />
    <div *ngIf="form.get('name')?.invalid && form.get('name')?.touched" class="error">
      {{ 'register.name_error' | translate }}
    </div>
  </div>

  <div class="form-group">
    <label for="email">{{ 'register.email' | translate }}</label>
    <input id="email" formControlName="email" type="email" />
    <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="error">
      {{ 'register.email_error' | translate }}
    </div>
  </div>

  <div class="form-group">
    <label for="password">{{ 'register.password' | translate }}</label>
    <input id="password" formControlName="password" type="password" />
    <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="error">
      {{ 'register.password_error' | translate }}
    </div>
  </div>

  <button type="submit" [disabled]="form.invalid || loading">
    {{ loading ? ('register.loading' | translate) : ('register.submit' | translate) }}
  </button>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>
  <div *ngIf="success" class="success">
    {{ 'register.success' | translate }}
  </div>
</form>
